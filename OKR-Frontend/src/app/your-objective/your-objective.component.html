<app-nav></app-nav>
<section class="active-list">
    <div>
      <strong>Active(1)</strong>
      <app-milestone></app-milestone> 
      <ul class="nav side">  
        <li class="nav-item">
          <div class="modal fade show" *ngIf="show"  id="exampleModalToggle" aria-hidden="false" style="display: block !important;" aria-labelledby="exampleModalToggleLabel" tabindex="-1">
            <div class="modal-dialog modal-dialog-centered">
              <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalToggleLabel">NEW KEY RESULT: CREATE YOUR KEY RESULT</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" (click)="objectiveHide()" aria-label="Close"></button>
                  </div>
                  <form (ngSubmit)="addObjective()" #ObjForm="ngForm">
                    <div class="modal-body">
                      <div class="form-group">
                        <label>Objective:</label><br>
                        <input type="text" class="in-1" ngModel name="goal_name" #goal_name="ngModel" goal_name required>
                        <span class="help-block" *ngIf="!goal_name.valid && goal_name.touched"><i class="fas fa-exclamation-circle"></i>Please enter a valid value!!!</span>
                      </div>
                      <div class="in-date">
                        <!-- <div class="form-group">
                          <label>Which period is the objectiveRunning in?*</label><br>
                          <select class="form-select in-2" ngModel aria-label="Default select example" name="goal_quater" #goal_quater="ngModel" goal_quater required>
                        <option value="1">Q1</option>
                        <option value="2">Q2</option>
                        <option value="3">Q3</option>
                        <option value="4">Q4</option>
                      </select>
                      <span class="help-block" *ngIf="!goal_quater.valid && goal_quater.touched"><i class="fas fa-exclamation-circle"></i>Please enter a valid value!!!</span>
                        </div> -->
                        <div class="form-group">
                        <label>Start Date*</label><br>
                        <input type="date" name="goal_start_date" ngModel class="in-d" #goal_start_date="ngModel" goal_start_date required>
                        <span class="help-block" *ngIf="!goal_start_date.valid && goal_start_date.touched"><i class="fas fa-exclamation-circle"></i>Please enter a valid value!!!</span>
                        </div>
                        <div class="form-group">
                        <label>End Date*</label><br>
                        <input type="date" name="goal_due_date" ngModel class="in-d" #goal_due_date="ngModel" goal_due_date required min="{{goal_start_date.value}}">
                        <span class="help-block" *ngIf="!goal_due_date.valid && goal_due_date.touched"><i class="fas fa-exclamation-circle"></i>Please enter a valid value!!!</span>
                        </div>
                      </div>
                    <div class="in-date">
                      <div class="form-group">
                        <label for="typeahead-basic">Owner:</label>
                        <input id="typeahead-basic" type="text" class="form-control in-2" ngModel #goal_owner_name="ngModel" goal_owner_name required [(ngModel)]="model" name="goal_owner_name" [ngbTypeahead]="search"
                        [resultFormatter]="outFormatter"
                        [inputFormatter]="outFormatter"/>
                        <span class="help-block" *ngIf="!goal_owner_name.valid && goal_owner_name.touched"><i class="fas fa-exclamation-circle"></i>Please enter a valid value!!!</span>
                      </div>
                      <!-- <pre>Model: {{ model | json }}</pre> -->
                      <!-- <div class="form-group">
                      <label>To which Company Objective This Objective Align With:</label><br>
                        <input id="typeahead-basic" type="text" class="form-control in-2" ngModel #linked_org_goal_id="ngModel" linked_org_goal_id required [(ngModel)]="modelOrgGoal" name="linked_org_goal_id" [ngbTypeahead]="searchOrgGoal"
                        [resultFormatter]="inFormatter"
                        [inputFormatter]="inFormatter"/>
                  <span class="help-block" *ngIf="!linked_org_goal_id.valid && linked_org_goal_id.touched"><i class="fas fa-exclamation-circle"></i>Please enter a valid value!!!</span>
                      </div> -->
                    <div class="form-group">
                      <label>To which Company Objective This Objective Align With:</label><br>
                      <select class="form-select in-2" ngModel aria-label="Default select example" name="linked_org_goal_id" #linked_org_goal_id="ngModel" linked_org_goal_id required>
                        <option value="">Please select company objective</option>
                    <option *ngFor="let item of allOrgGoal" value="{{item.goal_id}}">{{item.goal_name}}</option>
                    <!-- <option value="2">Q2</option>
                    <option value="3">Q3</option>
                    <option value="4">Q4</option> -->
                  </select>
                  <span class="help-block" *ngIf="!linked_org_goal_id.valid && linked_org_goal_id.touched"><i class="fas fa-exclamation-circle"></i>Please enter a valid value!!!</span>
                    </div>
                  </div>
                    <div class="in-date">
                      <!-- <div class="form-group">
                      <label>Which Type of OKR you are Creating?:</label><br>
                      <select class="form-select in-2" ngModel aria-label="Default select example" name="goal_type" #goal_type="ngModel" goal_type required>
                        <option value="INDIVIDUAL">INDIVIDUAL</option>
                        <option value="PUBLIC">PUBLIC</option>
                        <option value="ORGANIZATIONAL">ORGANIZATIONAL</option>
                  </select>
                  <span class="help-block" *ngIf="!goal_type.valid && goal_type.touched"><i class="fas fa-exclamation-circle"></i>Please enter a valid value!!!</span>
                      </div> -->
                    </div>
                    </div>
                    <div class="modal-footer">
                      <!-- <button type="button" class="btn btn-default" data-bs-dismiss="modal" (click)="objectiveHide()"  aria-label="Close"> Cancel </button><br> -->
                      <button class="btn btn-primary" type="submit" 
                      data-bs-target="#exampleModalToggle2" style="background-color: #0D8EBB;" [disabled]="!ObjForm.valid" data-bs-toggle="modal">Add Key Result</button>
                      <br>
                  <span class="help-block" *ngIf="er"><i class="fas fa-exclamation-circle"></i>Error while creating objective!!!</span>
                    </div>
                  </form>

              </div>
            </div>
            </div>
            <div class="modal fade show" style="display: block;" *ngIf="show2" id="exampleModalToggle2" aria-hidden="true" aria-labelledby="exampleModalToggleLabel2" tabindex="-1">
            <div class="modal-dialog modal-dialog-centered">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="exampleModalToggleLabel2">ADD KEY RESULT: HOW YOU WILL DO IT</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" (click)="keyresultHide()"></button>
                </div>
                 <app-create-milestone></app-create-milestone>
                 <!-- <app-milestone [keyresultshow]="keyresultshow"   [keyresultHide]="keyresultHide" ></app-milestone> -->
              </div>
            </div>
          </div>
          

          <!--   Edit Objective   -->
          <div class="modal fade show" *ngIf="show3"  id="exampleModalToggle" aria-hidden="false" style="display: block !important;" aria-labelledby="exampleModalToggleLabel" tabindex="-1">
            <div class="modal-dialog modal-dialog-centered">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="exampleModalToggleLabel">UPDATE OBJECTIVE: YOUR AREA OF FOCUS</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" (click)="objectiveHide()" aria-label="Close"></button>
                </div>
                <app-edit-goal></app-edit-goal>
              </div>
            </div>
            </div>
          <a class="btn btn-primary" data-bs-toggle="modal" (click)="objectiveShow()" style="background-color: #0D8EBB;" role="button"><img src="https://img.icons8.com/ios/25/000000/add--v2.png"/> OBJECTIVE</a>
        </li>
      </ul>
    </div>

    <!--Active Goal List-->
    <div class="list" *ngFor="let goal of goalData">
      <app-goal-list [deleteGoal]="deleteGoal"  [goalDetails]="goal"></app-goal-list>
      </div>
    
    </section>
    
    <!--      Closed Section      -->
    
    <section class="active-list">
    <div>
      <strong>Closed(1)</strong>
    </div>
    <div class="list">
      <div class="list-card row">
        <div class="col-sm-1 progress-percent">
          100%
        </div>
        <div class="col-sm-8 task-details">
          <strong>Make Performance the most prefered Solution</strong>
          <ul class="nav ">
            <li class="nav-item">
              <div class="nav-link active" aria-current="page">
                <div class="dropdown">
                <button class="btn btn-default dropdown-toggle" style="color: #0D8EBB; padding-top: 0px;" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
                  Key Results
                </button>
                <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                  <li><a class="dropdown-item" href="#">Action</a></li>
                  <li><a class="dropdown-item" href="#">Another action</a></li>
                  <li><a class="dropdown-item" href="#">Something else here</a></li>
                </ul>
              </div>
            </div>
            </li>
            <li class="nav-item">
              <div class="nav-link">Date:</div>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Saas Product : Stronger Modules & Others</a>
            </li>
          </ul>
        </div>
        <div class="col-sm-2 options">
          <ul class="nav">
            <li class="nav-item">
              <p class="status shadow">Waiting for approval</p>
            </li>
            <li class="nav-item">
              <div class="dropdown">
            <button class="btn btn-default dropdown" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
              <img src="https://img.icons8.com/ios-filled/20/000000/menu-2.png"/>
            </button>
            <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
              <li><a class="dropdown-item" href="#">Action</a></li>
              <li><a class="dropdown-item" href="#">Another action</a></li>
              <li><a class="dropdown-item" href="#">Something else here</a></li>
            </ul>
          </div>
            </li>
          </ul>
        </div>
      </div>
    </div>
    
    </section>
    
    
    <!--    Rejected      --> 
    
    <!--      Closed Section      -->
    
    <section class="active-list">
    <div>
      <strong>Rejected(1)</strong>
    </div>
    <div class="list">
      <div class="list-card row">
        <div class="col-sm-1 progress-percent">
          100%
        </div>
        <div class="col-sm-8 task-details">
          <strong>Make Performance the most prefered Solution</strong>
          <ul class="nav ">
            <li class="nav-item">
              <div class="nav-link active" aria-current="page">
                <div class="dropdown">
                <button class="btn btn-default dropdown-toggle" style="color: #0D8EBB; padding-top: 0px;" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
                  Key Results
                </button>
                <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                  <li><a class="dropdown-item" href="#">Action</a></li>
                  <li><a class="dropdown-item" href="#">Another action</a></li>
                  <li><a class="dropdown-item" href="#">Something else here</a></li>
                </ul>
              </div>
            </div>
            </li>
            <li class="nav-item">
              <div class="nav-link">Date:</div>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Saas Product : Stronger Modules & Others</a>
            </li>
          </ul>
        </div>
        <div class="col-sm-2 options">
          <ul class="nav">
            <li class="nav-item">
              <p class="status shadow">Waiting for approval</p>
            </li>
            <li class="nav-item">
              <div class="dropdown">
            <button class="btn btn-default dropdown" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
              <img src="https://img.icons8.com/ios-filled/20/000000/menu-2.png"/>
            </button>
            <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
              <li><a class="dropdown-item" href="#">Action</a></li>
              <li><a class="dropdown-item" href="#">Another action</a></li>
              <li><a class="dropdown-item" href="#">Something else here</a></li>
            </ul>
          </div>
            </li>
          </ul>
        </div>
      </div>
    </div>
    
    </section>